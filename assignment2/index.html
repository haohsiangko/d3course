<html>
<head>
    <meta charset="UTF-8">
    <title>D3作業二_柯皓翔</title>
    <script src="https://d3js.org/d3.v3.min.js"></script>
    <link rel="stylesheet" href="main.css">
</head>
<body>
   <h1>作業二（柯皓翔）</h1>

    <h3 class="exercise">例題1</h3>
    <p>亂數選擇</p>
    <input type="button" onclick="launch()" value="啟動">
    
    <script>
        var body = d3.select("body");
        
        function launch(){
            var result;
            result = Math.floor(Math.random()*(2016-1911+1)+1911);
            body.select("p").text(result);
        }        
    </script>
    
    <hr>
    
    <h3 class="exercise">例題2</h3>
    
    <script>
    
        d3.select("body")
            .append("svg")
            .attr({
                width: 300,
                height: 200,
                id: "svg1"
        })
        
        var svg1 = d3.select("#svg1");
        
        svg1.append("rect")
            .attr({
                x: 0,
                y: 0,
                width: 300,
                height: 200,
                fill: "#FDF5E6"
        })
        
        svg1.append("circle")
            .attr({
                cx: 150,
                cy: 120,
                r: 15
            })
        
        //circle的基線是y=135
        //總共要畫的直線y= 45,75,105,135,160
        
        svg1.append("rect")
            .attr({
                x: 160,
                y: 45,
                width: 5,
                height: 78
        })
        
        //五線譜
        for(var i=0; i<5; i++){
            svg1.append("line")
                .attr({
                    x1: 0,
                    y1: 45+i*30,
                    x2: 300,
                    y2: 45+i*30,
                    stroke: "black"
            })
        }
        
        //字母
        //位置切齊圓左側，x=135
        svg1.append("text")
            .attr({
                x: 135,
                y: 200,
                "font-size": "40px"
        }).text("A")
        
    </script>
    
    <hr>
    
    <h3 class="exercise">例題3</h3>
    
    <script>
        
        d3.select("body")
            .append("svg")
            .attr({
                width: 600,
                height: 400,
                id: "svg2"
        })
        
        var svg2 = d3.select("#svg2");
            
        function random(m,n){
            return Math.floor(Math.random()*(m-n+1)+n)
        }
        
        for(var i = 0; i < 20; i++){
            var num = random(20,300)
            svg2.append("rect")
                .attr({
                    x: 10,
                    y: 10+12*i,
                    width: num,
                    height: 10,
                    fill: "red" 
            })
            
            svg2.append("text").attr({
                x:10+num+15,
                y:20+12*i, //20,32,44...
                "font-size": "12px", 
                fill: "#000000"
            }).text(num)
        }
    
    </script>

    <hr>
    
    <h3 class="exercise">例題4</h3>
    
    <script>
    
       d3.select("body")
            .append("svg")
            .attr({
                width: 600,
                height: 400,
                id: "svg3" //不要加#
        })
        
        var svg3 = d3.select("#svg3");
        
//        function random(m,n){
//            return Math.floor(Math.random()*(m-n+1)+n)
//        }
        
        var points = "10,10";
        
        for(var i = 0; i < 20; i++){
            var num = random(20,300)
            
            points = points + " "+(10+num)+"," + (10+12+12*i);
                        
            svg3.append("circle")
                .attr({
                    cx: 10+num,
                    cy: 10+12+12*i,
                    r: 5,
                    fill: "red" 
            })
            
            svg3.append("text").attr({
                x:10+num+5,
                y:10+12+12*i+5,
                "font-size": "12px"
            }).text(num)
        }
        
        //最後一個圓的y是10+12+12*19=250
        //最後線連回來y是262
        points = points + " 10,262";
        
        svg3.append("polyline").attr({
            points: points,
            stroke: "black",
            fill:"rgba(0,0,0,0)"
        })
    </script>
       

</body>
</html>